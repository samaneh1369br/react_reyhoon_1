{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\s.hajiramezani\\\\Documents\\\\samaneh-practice\\\\react_reyhoon_page_2\\\\components\\\\Banner_form\\\\Banner_form.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport \"./Banner_form.css\";\nimport SvgSearch from \"../Svg_search/Svg_search\";\nimport SearchInput, { createFilter } from 'react-search-input';\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getCities\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var respond, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('https://stage.reyhoon.com/public-api/v1/cities', {\n                method: \"GET\"\n              });\n\n            case 2:\n              respond = _context.sent;\n\n              if (!respond.ok) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 6;\n              return respond.json();\n\n            case 6:\n              data = _context.sent;\n              console.log(data);\n\n              _this.setState({\n                responds: data\n              }, function () {\n                console.log(_this.state.responds);\n              });\n\n              _context.next = 12;\n              break;\n\n            case 11:\n              console.error(respons.status);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"regionGet\", function (e) {\n      _this.setState({\n        region: e.target.value\n      }, function () {\n        console.log(_this.state.region);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submit\", function (e) {\n      e.preventDefault();\n      e.target.querySelector(\"input[id='txt1']\").value && e.target.querySelector(\"input[id='txt2']\").value ? _this.setState({\n        city: e.target.querySelector(\"input[id='txt1']\").value + \" . \",\n        region: e.target.querySelector(\"input[id='txt2']\").value\n      }) : _this.setState({\n        city: \"هر دو ورودی را کامل کنید\",\n        region: \"\"\n      });\n    });\n\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this)); // this.cityGet=this.cityGet.bind(this);\n\n    _this.state = {\n      city: \"\",\n      region: \"\",\n      responds: [],\n      searchTerm: ''\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.getCities();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return (// <section  style={{marginBottom: '30px', marginTop:\"45px !important\"}} className=\"header-form-section margin-v-60\" >\n        //         <p>برای دیدن لیست رستوران‌ها و فست‌فود‌هایی که به شما سرویس می‌دهند، منطقه خود را وارد کنید.</p>\n        //         <form onSubmit={this.submit}  className=\"header-form\">\n        //             <input className=\"child-1\" id=\"txt1\"  type=\"text\"  placeholder=\"تهران\"/>\n        //             <div className=\"child-2\">\n        //                 <span className=\"child-2-icon\">&copy;</span>\n        //                 <input className=\"child-2-input\" type=\"text\" id=\"txt2\" onChange={this.regionGet} placeholder=\"مثلا نیاوران\"/>\n        //             </div>\n        //             <button className=\"child-3\" type=\"submit\">\n        //                 <SvgSearch/>\n        //             </button>\n        //         </form>\n        //         <div >\n        //             {this.state.city}{this.state.region}\n        //         </div>\n        //     </section>\n        __jsx(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, __jsx(SearchInput, {\n          className: \"search-input\",\n          onChange: this.searchUpdated,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }))\n      );\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default Form; // cityGet=(e)=>{\n//     this.setState({\n//         city:e.target.value\n//     },()=>{\n//             console.log(this.state.city);\n//             fetch(`https://www.reyhoon.com/public-api/v1/cities`).\n//             then(   respond=>{\n//                         var responeJson=  respond.json();\n//                         return responeJson\n//                     }\n//                 ).\n//             catch(  error=>{console.log(error+\"    sddddddddddd\")})\n//           } \n//     )\n// }","map":{"version":3,"sources":["C:\\Users\\s.hajiramezani\\Documents\\samaneh-practice\\react_reyhoon_page_2\\components\\Banner_form\\Banner_form.js"],"names":["SvgSearch","SearchInput","createFilter","Form","props","fetch","method","respond","ok","json","data","console","log","setState","responds","state","error","respons","status","e","region","target","value","preventDefault","querySelector","city","submit","bind","searchTerm","getCities","searchUpdated","React","Component"],"mappings":"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","sourcesContent":["import \"./Banner_form.css\"\r\nimport SvgSearch from \"../Svg_search/Svg_search\"\r\nimport SearchInput, {createFilter} from 'react-search-input';\r\n\r\nclass Form  extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.submit=this.submit.bind(this);\r\n        // this.cityGet=this.cityGet.bind(this);\r\n        this.state={\r\n         city:\"\",\r\n         region:\"\",\r\n         responds:[],\r\n         searchTerm :''\r\n               }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      this.getCities();\r\n    }\r\n\r\n    getCities = async () => {\r\n        const respond =  await fetch('https://stage.reyhoon.com/public-api/v1/cities',{method:\"GET\"});\r\n        if (respond.ok) {\r\n            const data = await respond.json();\r\n            console.log(data)\r\n            this.setState({responds:data},()=>{console.log(this.state.responds)})\r\n        }\r\n        else {\r\n            console.error(respons.status)\r\n        }\r\n    }\r\n\r\n    regionGet=(e)=>{\r\n        \r\n        this.setState({\r\n            region:e.target.value\r\n        },()=>{\r\n            console.log(this.state.region)\r\n            }\r\n        )\r\n    }\r\n    submit=(e)=>{\r\n        e.preventDefault(); \r\n      ((e.target.querySelector(\"input[id='txt1']\").value)&&(e.target.querySelector(\"input[id='txt2']\").value))\r\n        ? this.setState({\r\n            city:e.target.querySelector(\"input[id='txt1']\").value+\" . \",\r\n            region:e.target.querySelector(\"input[id='txt2']\").value\r\n        })\r\n        : \r\n        this.setState({\r\n            city:\"هر دو ورودی را کامل کنید\",\r\n            region:\"\" \r\n        })\r\n    }\r\n    render(){\r\n       return(   \r\n            // <section  style={{marginBottom: '30px', marginTop:\"45px !important\"}} className=\"header-form-section margin-v-60\" >\r\n            //         <p>برای دیدن لیست رستوران‌ها و فست‌فود‌هایی که به شما سرویس می‌دهند، منطقه خود را وارد کنید.</p>\r\n            //         <form onSubmit={this.submit}  className=\"header-form\">\r\n            //             <input className=\"child-1\" id=\"txt1\"  type=\"text\"  placeholder=\"تهران\"/>\r\n            //             <div className=\"child-2\">\r\n            //                 <span className=\"child-2-icon\">&copy;</span>\r\n            //                 <input className=\"child-2-input\" type=\"text\" id=\"txt2\" onChange={this.regionGet} placeholder=\"مثلا نیاوران\"/>\r\n            //             </div>\r\n            //             <button className=\"child-3\" type=\"submit\">\r\n            //                 <SvgSearch/>\r\n            //             </button>\r\n                        \r\n            //         </form>\r\n            //         <div >\r\n            //             {this.state.city}{this.state.region}\r\n            //         </div>\r\n\r\n            //     </section>\r\n            <div>\r\n            <SearchInput className=\"search-input\" onChange={this.searchUpdated} />\r\n           \r\n          </div>\r\n        )\r\n    }\r\n}\r\nexport default Form;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// cityGet=(e)=>{\r\n//     this.setState({\r\n//         city:e.target.value\r\n//     },()=>{\r\n//             console.log(this.state.city);\r\n//             fetch(`https://www.reyhoon.com/public-api/v1/cities`).\r\n//             then(   respond=>{\r\n//                         var responeJson=  respond.json();\r\n//                         return responeJson\r\n//                     }\r\n//                 ).\r\n//             catch(  error=>{console.log(error+\"    sddddddddddd\")})\r\n//           } \r\n//     )\r\n\r\n\r\n// }"]},"metadata":{},"sourceType":"module"}