{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\s.hajiramezani\\\\Documents\\\\samaneh-practice\\\\react_reyhoon_page_2\\\\components\\\\Banner_form\\\\Banner_form.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport SearchInput, { createFilter } from 'react-search-input';\nimport cx from 'classnames';\nimport \"./Banner_form.css\";\nimport SvgSearch from \"../Svg_search/Svg_search\";\n\nvar Form =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Form, _React$Component);\n\n  function Form(props) {\n    var _this;\n\n    _classCallCheck(this, Form);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Form).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getCities\",\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var respond, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('https://stage.reyhoon.com/public-api/v1/cities', {\n                method: \"GET\"\n              });\n\n            case 2:\n              respond = _context.sent;\n\n              if (!respond.ok) {\n                _context.next = 10;\n                break;\n              }\n\n              _context.next = 6;\n              return respond.json();\n\n            case 6:\n              data = _context.sent;\n\n              _this.setState({\n                allCityies: data.cities\n              });\n\n              _context.next = 11;\n              break;\n\n            case 10:\n              console.error(\"https_code\" + respond.status);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"regionGet\", function (e) {\n      _this.setState({\n        region: e.target.value\n      }, function () {\n        console.log(_this.state.region);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"submit\", function (e) {//     e.preventDefault(); \n      //   ((e.target.querySelector(\"input[id='txt1']\").value)&&(e.target.querySelector(\"input[id='txt2']\").value))\n      //     ? this.setState({\n      //         city:e.target.querySelector(\"input[id='txt1']\").value+\" . \",\n      //         region:e.target.querySelector(\"input[id='txt2']\").value\n      //     })\n      //     : \n      //     this.setState({\n      //         city:\"هر دو ورودی را کامل کنید\",\n      //         region:\"\" \n      //     })\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"searchUpdated\", function (term) {\n      var temp = term.target.value;\n      if (temp.length >= 2) _this.setState({\n        searchTerm: temp\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"citySuggestedShow\", function () {\n      _this.setState({\n        showSuggest: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setCity\", function (citySelected) {\n      _this.setState({\n        city: citySelected\n      });\n    });\n\n    _this.submit = _this.submit.bind(_assertThisInitialized(_this)); // this.cityGet=this.cityGet.bind(this);\n\n    _this.searchUpdated = _this.searchUpdated.bind(_assertThisInitialized(_this));\n    _this.suggestedCittyBlock = React.createRef();\n    _this.state = {\n      city: \"\",\n      region: \"\",\n      allCityies: [],\n      searchTerm: '',\n      sugestionCity: '',\n      showSuggest: false\n    };\n    return _this;\n  }\n\n  _createClass(Form, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.getCities();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var filteredCities = this.state.allCityies.filter(createFilter(this.state.searchTerm, 'name')); //  console.log(filteredCities);\n\n      return __jsx(\"section\", {\n        style: {\n          marginBottom: '30px',\n          marginTop: \"45px !important\"\n        },\n        className: \"header-form-section margin-v-60\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"\\u0628\\u0631\\u0627\\u06CC \\u062F\\u06CC\\u062F\\u0646 \\u0644\\u06CC\\u0633\\u062A \\u0631\\u0633\\u062A\\u0648\\u0631\\u0627\\u0646\\u200C\\u0647\\u0627 \\u0648 \\u0641\\u0633\\u062A\\u200C\\u0641\\u0648\\u062F\\u200C\\u0647\\u0627\\u06CC\\u06CC \\u06A9\\u0647 \\u0628\\u0647 \\u0634\\u0645\\u0627 \\u0633\\u0631\\u0648\\u06CC\\u0633 \\u0645\\u06CC\\u200C\\u062F\\u0647\\u0646\\u062F\\u060C \\u0645\\u0646\\u0637\\u0642\\u0647 \\u062E\\u0648\\u062F \\u0631\\u0627 \\u0648\\u0627\\u0631\\u062F \\u06A9\\u0646\\u06CC\\u062F.\"), __jsx(\"form\", {\n        onSubmit: this.submit,\n        className: \"header-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"text\",\n        onBlur: function onBlur() {\n          return _this2.setState({\n            showSuggest: false\n          });\n        },\n        onFocus: function onFocus() {\n          return _this2.citySuggestedShow();\n        },\n        onChange: function onChange(e) {\n          return _this2.searchUpdated(e);\n        },\n        placeholder: \"\\u062A\\u0647\\u0631\\u0627\\u0646\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }), __jsx(\"ul\", {\n        className: cx('citySuggested', {\n          'showCitySuggested': this.state.showSuggest\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, __jsx(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"( \", this.state.allCityies.length, \") \\u062A\\u062D\\u062A \\u067E\\u0648\\u0634\\u0634\"), filteredCities.map(function (city, key) {\n        return __jsx(\"li\", {\n          onClick: _this2.setCity(city.name),\n          key: key,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 101\n          },\n          __self: this\n        }, city.name);\n      })), __jsx(\"div\", {\n        className: \"child-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        className: \"child-2-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\xA9\"), __jsx(\"input\", {\n        className: \"child-2-input\",\n        type: \"text\",\n        id: \"txt2\",\n        onChange: this.regionGet,\n        placeholder: \"\\u0645\\u062B\\u0644\\u0627 \\u0646\\u06CC\\u0627\\u0648\\u0631\\u0627\\u0646\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), __jsx(\"button\", {\n        className: \"child-3\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, __jsx(SvgSearch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, this.state.city, this.state.region));\n    }\n  }]);\n\n  return Form;\n}(React.Component);\n\nexport default Form;","map":{"version":3,"sources":["C:\\Users\\s.hajiramezani\\Documents\\samaneh-practice\\react_reyhoon_page_2\\components\\Banner_form\\Banner_form.js"],"names":["SearchInput","createFilter","cx","SvgSearch","Form","props","fetch","method","respond","ok","json","data","setState","allCityies","cities","console","error","status","e","region","target","value","log","state","term","temp","length","searchTerm","showSuggest","citySelected","city","submit","bind","searchUpdated","suggestedCittyBlock","React","createRef","sugestionCity","getCities","filteredCities","filter","marginBottom","marginTop","citySuggestedShow","map","key","setCity","name","regionGet","Component"],"mappings":"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","sourcesContent":["import SearchInput, {createFilter} from 'react-search-input';\r\nimport cx from 'classnames';\r\nimport \"./Banner_form.css\"\r\nimport SvgSearch from \"../Svg_search/Svg_search\"\r\n\r\nclass Form  extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.submit=this.submit.bind(this);\r\n        // this.cityGet=this.cityGet.bind(this);\r\n        this.searchUpdated = this.searchUpdated.bind(this);\r\n        this.suggestedCittyBlock=React.createRef();\r\n        this.state={\r\n         city:\"\",\r\n         region:\"\",\r\n         allCityies:[],\r\n         searchTerm :'',\r\n         sugestionCity:'',\r\n         showSuggest: false,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      this.getCities();\r\n     \r\n    }\r\n   \r\n\r\n    getCities = async () => {\r\n        const respond =  await fetch('https://stage.reyhoon.com/public-api/v1/cities',{method:\"GET\"});\r\n        if (respond.ok) {\r\n            const data = await respond.json();\r\n            \r\n            this.setState({allCityies:data.cities})\r\n        }\r\n        else {\r\n            console.error(\"https_code\"+respond.status)\r\n        }\r\n       \r\n            \r\n    }\r\n\r\n    regionGet=(e)=>{\r\n        \r\n        this.setState({\r\n            region:e.target.value\r\n        },()=>{\r\n            console.log(this.state.region)\r\n            }\r\n        )\r\n    }\r\n    submit=(e)=>{\r\n    //     e.preventDefault(); \r\n    //   ((e.target.querySelector(\"input[id='txt1']\").value)&&(e.target.querySelector(\"input[id='txt2']\").value))\r\n    //     ? this.setState({\r\n    //         city:e.target.querySelector(\"input[id='txt1']\").value+\" . \",\r\n    //         region:e.target.querySelector(\"input[id='txt2']\").value\r\n    //     })\r\n    //     : \r\n    //     this.setState({\r\n    //         city:\"هر دو ورودی را کامل کنید\",\r\n    //         region:\"\" \r\n    //     })\r\n    }\r\n    searchUpdated=(term)=>{\r\n        let temp=term.target.value;\r\n        if (temp.length>=2)\r\n        \r\n       this.setState({searchTerm:temp});        \r\n    };\r\n    citySuggestedShow=()=>{\r\n        this.setState({\r\n            showSuggest: true,\r\n        })\r\n        }\r\n    setCity=(citySelected)=>{\r\n        this.setState({\r\n            city:citySelected\r\n        }\r\n    )\r\n    }    \r\n    render(){\r\n      \r\n          const filteredCities =this.state.allCityies.filter(createFilter(this.state.searchTerm,'name'));\r\n        //  console.log(filteredCities);\r\n       return(   \r\n            <section  style={{marginBottom: '30px', marginTop:\"45px !important\"}} className=\"header-form-section margin-v-60\" >\r\n                    <p>برای دیدن لیست رستوران‌ها و فست‌فود‌هایی که به شما سرویس می‌دهند، منطقه خود را وارد کنید.</p>\r\n                    <form onSubmit={this.submit}  className=\"header-form\">\r\n                        <input  \r\n                            type=\"text\" \r\n                            onBlur={() => this.setState({ showSuggest: false })} \r\n                            onFocus={()=>this.citySuggestedShow()}  \r\n                            onChange={(e)=>this.searchUpdated(e)} \r\n                            placeholder=\"تهران\"\r\n                        />\r\n                           \r\n                         \r\n                         <ul className={cx('citySuggested', {'showCitySuggested': this.state.showSuggest})}>\r\n                             <p>( {this.state.allCityies.length}) تحت پوشش</p>\r\n                              {filteredCities.map((city, key)=><li onClick={this.setCity(city.name)}  key={key}>{city.name}</li>)}\r\n                         </ul>  \r\n                        <div className=\"child-2\">\r\n                            <span className=\"child-2-icon\">&copy;</span>\r\n                            <input className=\"child-2-input\" type=\"text\" id=\"txt2\" onChange={this.regionGet} placeholder=\"مثلا نیاوران\"/>\r\n                        </div>\r\n                        <button className=\"child-3\" type=\"submit\">\r\n                            <SvgSearch/>\r\n                        </button>\r\n                        \r\n                    </form>\r\n                    <div >\r\n                        {this.state.city}{this.state.region}\r\n                    </div>\r\n\r\n                </section>\r\n           \r\n        )\r\n    }\r\n}\r\nexport default Form;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}