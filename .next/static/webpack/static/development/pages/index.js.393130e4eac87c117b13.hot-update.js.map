{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.393130e4eac87c117b13.hot-update.js","sources":["webpack:///./components/Banner_form/Banner_form.js","webpack:///./node_modules/react-search-input/lib/util.js"],"sourcesContent":["import \"./Banner_form.css\"\r\nimport SvgSearch from \"../Svg_search/Svg_search\"\r\nimport SearchInput, {createFilter} from 'react-search-input';\r\n\r\nclass Form  extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.submit=this.submit.bind(this);\r\n        // this.cityGet=this.cityGet.bind(this);\r\n        this.searchUpdated = this.searchUpdated.bind(this)\r\n        this.state={\r\n         city:\"\",\r\n         region:\"\",\r\n         responds:[],\r\n         searchTerm :''\r\n               }\r\n    }\r\n\r\n    async componentDidMount() {\r\n      this.getCities();\r\n     \r\n    }\r\n   \r\n\r\n    getCities = async () => {\r\n        const respond =  await fetch('https://stage.reyhoon.com/public-api/v1/cities',{method:\"GET\"});\r\n        if (respond.ok) {\r\n            const data = await respond.json();\r\n            \r\n            this.setState({responds:data.cities})\r\n        }\r\n        else {\r\n            console.error(\"https_code\"+respond.status)\r\n        }\r\n       \r\n            \r\n    }\r\n\r\n    regionGet=(e)=>{\r\n        \r\n        this.setState({\r\n            region:e.target.value\r\n        },()=>{\r\n            console.log(this.state.region)\r\n            }\r\n        )\r\n    }\r\n    submit=(e)=>{\r\n        e.preventDefault(); \r\n      ((e.target.querySelector(\"input[id='txt1']\").value)&&(e.target.querySelector(\"input[id='txt2']\").value))\r\n        ? this.setState({\r\n            city:e.target.querySelector(\"input[id='txt1']\").value+\" . \",\r\n            region:e.target.querySelector(\"input[id='txt2']\").value\r\n        })\r\n        : \r\n        this.setState({\r\n            city:\"هر دو ورودی را کامل کنید\",\r\n            region:\"\" \r\n        })\r\n    }\r\n    searchUpdated=(term)=>{\r\n        \r\n        this.setState({searchTerm:term},()=><span>{this.state.searchTerm}</span>);\r\n      \r\n    };\r\n    render(){\r\n       \r\n       \r\n\r\n        //    z.cities.map((city, key)=>console.log(city))\r\n  \r\n  \r\n\r\n        //   this.state.responds.provinces.map((city)=>{console.log(city)})\r\n          const filteredCities =this.state.responds.filter(createFilter(this.state.searchTerm,'name'));\r\n         console.log(filteredCities);\r\n       return(   \r\n            <section  style={{marginBottom: '30px', marginTop:\"45px !important\"}} className=\"header-form-section margin-v-60\" >\r\n                    <p>برای دیدن لیست رستوران‌ها و فست‌فود‌هایی که به شما سرویس می‌دهند، منطقه خود را وارد کنید.</p>\r\n                    <form onSubmit={this.submit}  className=\"header-form\">\r\n                        <SearchInput className=\"child-1\"  onChange={(e)=>this.searchUpdated(e)} placeholder=\"تهران\"/>\r\n                        <div className=\"child-2\">\r\n                            <span className=\"child-2-icon\">&copy;</span>\r\n                            <input className=\"child-2-input\" type=\"text\" id=\"txt2\" onChange={this.regionGet} placeholder=\"مثلا نیاوران\"/>\r\n                        </div>\r\n                        <button className=\"child-3\" type=\"submit\">\r\n                            <SvgSearch/>\r\n                        </button>\r\n                        \r\n                    </form>\r\n                    <div >\r\n                        {this.state.city}{this.state.region}\r\n                    </div>\r\n\r\n                </section>\r\n           \r\n        )\r\n    }\r\n}\r\nexport default Form;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// cityGet=(e)=>{\r\n//     this.setState({\r\n//         city:e.target.value\r\n//     },()=>{\r\n//             console.log(this.state.city);\r\n//             fetch(`https://www.reyhoon.com/public-api/v1/cities`).\r\n//             then(   respond=>{\r\n//                         var responeJson=  respond.json();\r\n//                         return responeJson\r\n//                     }\r\n//                 ).\r\n//             catch(  error=>{console.log(error+\"    sddddddddddd\")})\r\n//           } \r\n//     )\r\n\r\n\r\n// }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getValuesForKey = getValuesForKey;\nexports.searchStrings = searchStrings;\nexports.createFilter = createFilter;\n\nvar _fuse = require('fuse.js');\n\nvar _fuse2 = _interopRequireDefault(_fuse);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction flatten(array) {\n  return array.reduce(function (flat, toFlatten) {\n    return flat.concat(Array.isArray(toFlatten) ? flatten(toFlatten) : toFlatten);\n  }, []);\n}\n\nfunction getValuesForKey(key, item) {\n  var keys = key.split('.');\n  var results = [item];\n  keys.forEach(function (_key) {\n    var tmp = [];\n    results.forEach(function (result) {\n      if (result) {\n        if (result instanceof Array) {\n          var index = parseInt(_key, 10);\n          if (!isNaN(index)) {\n            return tmp.push(result[index]);\n          }\n          result.forEach(function (res) {\n            tmp.push(res[_key]);\n          });\n        } else if (result && typeof result.get === 'function') {\n          tmp.push(result.get(_key));\n        } else {\n          tmp.push(result[_key]);\n        }\n      }\n    });\n\n    results = tmp;\n  });\n\n  // Support arrays and Immutable lists.\n  results = results.map(function (r) {\n    return r && r.push && r.toArray ? r.toArray() : r;\n  });\n  results = flatten(results);\n\n  return results.filter(function (r) {\n    return typeof r === 'string' || typeof r === 'number';\n  });\n}\n\nfunction searchStrings(strings, term) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      caseSensitive = _ref.caseSensitive,\n      fuzzy = _ref.fuzzy,\n      sortResults = _ref.sortResults,\n      exactMatch = _ref.exactMatch;\n\n  strings = strings.map(function (e) {\n    return e.toString();\n  });\n\n  try {\n    if (fuzzy) {\n      if (typeof strings.toJS === 'function') {\n        strings = strings.toJS();\n      }\n      var fuse = new _fuse2.default(strings.map(function (s) {\n        return { id: s };\n      }), { keys: ['id'], id: 'id', caseSensitive: caseSensitive, shouldSort: sortResults });\n      return fuse.search(term).length;\n    }\n    return strings.some(function (value) {\n      try {\n        if (!caseSensitive) {\n           value = value.toLowerCase();\n        }\n        if (exactMatch) {\n          term = new RegExp('^' + term + '$', 'i');\n        }\n        if (value && value.search(term) !== -1) {\n          return true;\n        }\n        return false;\n      } catch (e) {\n        return false;\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction createFilter(term, keys) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return function (item) {\n    if (term === '') {\n      return true;\n    }\n\n    if (!options.caseSensitive) {\n      term = term.toLowerCase();\n    }\n\n    var terms = term.split(' ');\n\n    if (!keys) {\n      return terms.every(function (term) {\n        return searchStrings([item], term, options);\n      });\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    return terms.every(function (term) {\n      // allow search in specific fields with the syntax `field:search`\n      var currentKeys = void 0;\n      if (term.indexOf(':') !== -1) {\n        var searchedField = term.split(':')[0];\n        term = term.split(':')[1];\n        currentKeys = keys.filter(function (key) {\n          return key.toLowerCase().indexOf(searchedField) > -1;\n        });\n      } else {\n        currentKeys = keys;\n      }\n\n      return currentKeys.some(function (key) {\n        var values = getValuesForKey(key, item);\n        return searchStrings(values, term, options);\n      });\n    });\n  };\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAFA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AANA;AAAA;AACA;AADA;AAQA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AApBA;AAmCA;AACA;AADA;AAGA;AACA;AAEA;AACA;AA1CA;AA2CA;AACA;AAEA;AACA;AAFA;AAMA;AACA;AAFA;AAIA;AACA;AAvDA;AAyDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AA1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AALA;AAWA;AACA;;;;;;;;;;;AAEA;AACA;;;;;;;;;;;;;;;;;AA6CA;AAAA;AACA;AAGA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;AA7FA;AACA;AA8FA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;;;;;;;;;;AChIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}